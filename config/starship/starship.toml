# ~/.config/starship.toml
# Modern minimal starship prompt configuration

# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

# Gruvbox Rainbow preset
add_newline = false
palette = "gruvbox"

format = """
[](color_bg_1)\
$os$username\
$hostname\
[](fg:color_bg_1 bg:color_bg_2)\
$directory\
[](fg:color_bg_2 bg:color_bg_3)\
$git_branch$git_status\
[](fg:color_bg_3 bg:color_bg_4)\
$nodejs$python$rust$docker_context$nix_shell\
[](fg:color_bg_4 bg:color_bg_5)\
$time\
[ ](fg:color_bg_5)\
$line_break$character"""

# Character
[character]
success_symbol = "[❯](bold fg:green)"
error_symbol = "[❯](bold fg:red)"

# User/Host (block 1)
[username]
show_always = true
format = "[ $user ]($style)"
style_user = "bg:color_bg_1 fg:orange"
style_root = "bg:color_bg_1 fg:red"

[hostname]
ssh_only = false
format = "[ $hostname ]($style)"
style = "bg:color_bg_1 fg:blue"

# New: OS badge
[os]
disabled = false
format = "[ $symbol ]($style)"
style = "bg:color_bg_1 fg:purple"

# Directory (block 2)
[directory]
truncation_length = 3
truncate_to_repo = true
format = "[ $path ]($style)"
style = "bg:color_bg_2 fg:aqua"

# Git (block 3)
[git_branch]
symbol = " "
format = "[ $symbol$branch ]($style)"
style = "bg:color_bg_3 fg:yellow"

[git_status]
format = "[ $all_status$ahead_behind ]($style)"
style = "bg:color_bg_3 fg:purple"

# Runtimes (block 4)
[nodejs]
format = "[  $version ]($style)"
style = "bg:color_bg_4 fg:green"

[python]
format = "[  $version ]($style)"
style = "bg:color_bg_4 fg:yellow"

[rust]
format = "[  $version ]($style)"
style = "bg:color_bg_4 fg:orange"

[docker_context]
format = "[  $context ]($style)"
style = "bg:color_bg_4 fg:aqua"

# New: nix-shell indicator
[nix_shell]
symbol = ""
format = "[ $symbol $state( $name) ]($style)"
style = "bg:color_bg_4 fg:aqua"

# Time (block 5)
[time]
disabled = false
format = "[  $time ]($style)"
time_format = "%R"
style = "bg:color_bg_5 fg:blue"

# Optional: command duration (inline at right end of line if desired)
[cmd_duration]
min_time = 1500
format = "took [$duration](fg:yellow) "

# Gruvbox palette
[palettes.gruvbox]
color_bg_1 = "#3c3836"
color_bg_2 = "#504945"
color_bg_3 = "#665c54"
color_bg_4 = "#7c6f64"
color_bg_5 = "#928374"
color_fg  = "#ebdbb2"
red   = "#fb4934"
green = "#b8bb26"
yellow= "#fabd2f"
blue  = "#83a598"
purple= "#d3869b"
aqua  = "#8ec07c"
orange= "#fe8019"
